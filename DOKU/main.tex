\documentclass[12pt,german]{article}
\usepackage{listings}
%\usepackage[utf8]{inputenc}
\usepackage{inputenc}
\usepackage{graphicx}

\lstset{
extendedchars=\true,
%inputencoding=utf8,
basicstyle=\ttfamily,
columns=fullflexible,
xleftmargin=5pt,
frame=single,
breaklines=true,
postbreak=\mbox{{$\hookrightarrow$}\space},
}


\begin{document}

\title{Übungsaufgaben I, SBV1 }
\author{Lisa Panholzer, Lukas Fiel}
\maketitle
\newpage
\section{Gauss Filter}
\subsubsection{Code}
\lstinputlisting[frame=single,language=JAVA,breaklines=true]{../Gauss_.java}

\subsubsection{Ablauf und Idee}

\subsubsection{Tests und Sonderfälle}



%% -------------------------------------------------------------------------------------------------------------------------
%% ------------------------------------------- ZWEITES BEISPIEL -----------------------------------------------------
%% -------------------------------------------------------------------------------------------------------------------------
\newpage
\section{MedianFilter}
Der MedianFilter kann leider nicht mittels der Klasse \textit{ConvolutionFilter} implementiert werden, da die Maske für dieses Vorgehen konstant sein müsste. Das Prinzip ist allerdings sehr ähnlich. Es wird ein Pixel in Mitten einer quadratischen Umgebung betrachtet. Dieses Pixel soll im resultierenden Bild als der Median Wert der Umgebung gesetzt werden. \\
Implementiert wurde dies durch das Herausschneiden der interessanten Umgebung aus einer Kopie des Ursprungsbildes und anschließender Medianwertberechnung. 
\subsubsection{Code}
\lstinputlisting[frame=single,language=JAVA,breaklines=true]{../Median_.java}
\subsubsection{resultierendes Bild}
\begin{figure}[h]
	\includegraphics[width=7cm]{../testData/Results/median.jpg}
\end{figure}



%% -------------------------------------------------------------------------------------------------------------------------
%% ------------------------------------------- DRITTES BEISPIEL -----------------------------------------------------
%% -------------------------------------------------------------------------------------------------------------------------
\newpage
\section{Steuerung des Filtereffekts }
\subsubsection{Code}
\lstinputlisting[frame=single,language=JAVA,breaklines=true]{../FiltereffektEvaluierung_.java}
\subsubsection{Ablaufund Idee}


\subsubsection{Tests}

%% -------------------------------------------------------------------------------------------------------------------------
%% ------------------------------------------- VIERTES BEISPIEL -----------------------------------------------------
%% -------------------------------------------------------------------------------------------------------------------------
\newpage
\section{Histogrammeinebnung  }

\subsubsection{a) Ablauf und Lösungsidee}
 Die Histogrammeinebnung wurde mit der, wie im Foliensatz beschriebenen, Formel durchgeführt. Die genaue Implementierung findet sich im Bereich "Code". 
\subsubsection{a) Tests}
Die Implementierung wurde anhand der folgenden drei Bilder getestet:
\begin{enumerate}
\item Strand: 
Das Bild "Strand" enthält eine halbwegs gleichmäßige Verteilung der Grautöne. Nach Anwendung der Histogrammeinebnung kann man eine Verstärkung des Kontrastes erkennen.
\begin{figure}[h!] \centering
	\includegraphics[width=7cm]{../testData/Results/Strand/Strand.jpg}
	\includegraphics[width=4cm]{../testData/Results/Strand/Strand-histogram.png}
\end{figure}
\begin{figure}[h!] \centering
	\includegraphics[width=7cm]{../testData/Results/Strand/Strand-equalized.jpg}
	\includegraphics[width=4cm]{../testData/Results/Strand/Strand-equalized-histogram.png}
\end{figure}

\item Russland: 
Das Bild "Russland" enthält sehr wenig Kontrast und viele der Grautöne sind im Histogram benachbart. Nach der Anwendung der Histogrammeinebnung verstärkt sich der Kontrast um ein vielfaches und selbst die Wokenformation sind nun detailliert sichtbar.
\begin{figure}[h!] \centering
	\includegraphics[width=7cm]{../testData/Results/Russland/Russland.jpg}
	\includegraphics[width=4cm]{../testData/Results/Russland/Russland-histogram.png}
\end{figure}
\begin{figure}[h!] \centering
	\includegraphics[width=7cm]{../testData/Results/Russland/Russland-equalized.jpg}
	\includegraphics[width=4cm]{../testData/Results/Russland/Russland-equalized-histogram.png}
\end{figure}

\item Landschaft: 
Das Bild "Landschaft" hat im Vergleich zu den ersten beiden Testbildern einen höheren Kontrast und ist dunkler. Bei der Anwendung der Histogrammeinebnung kann man nun beobachten, das aufgrund der Gleichverteilung der Grautöne Richtung den Maximalwert (255), das Bild sich aufhellt und der Kontrast erhalten bleibt.
\begin{figure}[h!] \centering
	\includegraphics[width=7cm]{../testData/Results/Landschaft/Landschaft.jpg}
	\includegraphics[width=4cm]{../testData/Results/Landschaft/Landschaft-histogram.png}
\end{figure}
\begin{figure}[h!] \centering
	\includegraphics[width=7cm]{../testData/Results/Landschaft/Landschaft-equalized.jpg}
	\includegraphics[width=4cm]{../testData/Results/Landschaft/Landschaft-equalized-histogram.png}
\end{figure}


\end{enumerate}


\pagebreak
\subsection {b) Diskussion Histogrammeinebnung}
Es kann zu einer Verschlechterung der Bildqualität kommen, wenn die Histogrammeinebnung zum Beispiel auf ein stark überbelichtetes Bild angewandt wird. Bei folgender Aufnahme einer Straße mit Fußgängern sieht man, dass der Großteil der Pixelintensitäten ca. über 200 liegt. Findet nun die Einebnung statt werden die Verläufe nicht mehr weich dargestellt. Die Unterschiede zwischen den Pixelintensitäten werden zu hoch und Teile des Bildes deshalb kantiger dargestellt.
\begin{figure}[h!] \centering
	\includegraphics[width=7cm]{../testData/Results/Ueberbelichtung/Ueberbelichtung.jpg}
	\includegraphics[width=4cm]{../testData/Results/Ueberbelichtung/Ueberbelichtung-histogram.png}
\end{figure}
\begin{figure}[h!] \centering
	\includegraphics[width=7cm]{../testData/Results/Ueberbelichtung/Ueberbelichtung-equalized.jpg}
	\includegraphics[width=4cm]{../testData/Results/Ueberbelichtung/Ueberbelichtung-equalized-histogram.png}
\end{figure}
\pagebreak
\subsection{Code}
\lstinputlisting[frame=single,language=JAVA,breaklines=true]{../HistogramEqualization_.java}



%% -------------------------------------------------------------------------------------------------------------------------
%% ------------------------------------------- FÜNFTES BEISPIEL -----------------------------------------------------
%% -------------------------------------------------------------------------------------------------------------------------
\newpage
\section{ Raster-Entfernung im Frequenzraum}
\subsection{Workflow}
\begin{itemize}
	\item Starten von \textit{imageJ.exe}
	\item Öffnen eines Bildes
	\item \textit{Process $\rightarrow$ FFT $\rightarrow$ FFT}
	\item Zuschneiden des interessanten Bereichs im FFT Bild
	\item \textit{Process $\rightarrow$ FFT $\rightarrow$ inverse FFT}
\end{itemize}

\subsection{Beispiele}

\subsubsection{Auge}
Es wurde ein Bild gewählt, welches (wie bei einem Plakatdruck) Punkte in regelmässigen Abständen aufweist. Die eigentliche Bildinformation steckt in der Dicke er Punkte. Eine FFT Transformation zeigt deutlich ein periodisches Muster. Will man nur die eigentliche Bildinformation gewinnen, müssen hochfrequente Anteile des Bildes entfernt werden. Tabelle \ref{tab:AuswertungAuge} zeigt deutlich dass durch ein Entfernen der Randbereiche (höhere Frequenzen) im FFT Bild und die anschließende Rücktransformation die eigentliche Bildinformation gewonnen werden konnte.
\begin{table}[h]
  \centering
  \begin{tabular}{c | c}
    \hline
    Bild & FFT \\
    \hline
	\includegraphics[width=4cm]{../testData/Auge.jpg} & \includegraphics[width=4cm]{../testData/Results/Auge/FFT_of_Auge.jpg} \\
    \hline
    \includegraphics[width=4cm]{../testData/Results/Auge/reduced_Auge.jpg} & \includegraphics[width=4cm]{../testData/Results/Auge/reduced_FFT_of_Auge.jpg} \\
  \end{tabular}
  \caption{Auswertung Auge}
  \label{tab:AuswertungAuge}
\end{table}


\subsubsection{Elefant}
In diesem Bild sind viele periodisch auftretende Elemente enthalten. Es wurde versucht die Schrift, die Gitterstäbe im Hintergrund und natürlich die beiden Tiere gut sichtbar zu erhalten. Da aber die Gitterstäbe selbst periodisch im Bild vorkommen und auch die Schrift sich wiederholende senkrechte Kanten hat, war dies nicht einfach. Ein Auslöschen der horizontalen und vertikalen Anteile aus dem Bild brachte in unseren Versuchen das beste Ergebnis. Hierbei ist aber zu beachten, dass das Zentrum des FFT Bildes die meiste Information enthält. Daher wurde diese bestehen gelassen. Auch die Randbereiche der FFT wurden belassen, da diese für scharfe Kanten im Bild verantwortlich sind. Ein Wegschneiden dieser Bereiche würde auch die Konturen des Elefanten und die Schrift unscharf machen.
\begin{table}
  \centering
  \begin{tabular}{c | c}
    \hline
    Bild & FFT \\
    \hline
	\includegraphics[width=4cm]{../testData/Elefant.jpg} & \includegraphics[width=4cm]{../testData/Results/Elefant/FFT_of_Elefant.jpg} \\
    \hline
    \includegraphics[width=4cm]{../testData/Results/Elefant/reducedElefant.jpg} & \includegraphics[width=4cm]{../testData/Results/Elefant/reducedFFT_of_Elefant.jpg} \\
  \end{tabular}
  \caption{Auswertung Elefant}
  \label{tab: AuswertungElefant }
\end{table}

\subsubsection{Lochgitter}
Hier handelt es sich um ein perspektivisch beläuchtetes Lochgitter. Die Löcher sind sechseckig. In der FFT erkennt man gut die Periodizität. Ein Wegschneiden der äusseren Bereiche der FFT und eine Rücktransformation zeigt deutlich die perspektivische Beläuchtung. Das Lochgitter konnte aber vollkommen entfernt werden. Interessant ist auch zu bemerken, dass im Rücktransformierten Bild eine Schrift \textit{"colourbox"} deutlich zu erkennen ist. Bei genauerer Betrachtung des Ursprungsbildes ist diese hinter dem Gitter zu erkennen.  
\begin{table}
  \centering
  \begin{tabular}{c | c}
    \hline
    Bild & FFT \\
    \hline
	\includegraphics[width=4cm]{../testData/Lochgitter.jpg} & \includegraphics[width=4cm]{../testData/Results/Lochgitter/FFT_of_Lochgitter.jpg} \\
    \hline
    \includegraphics[width=4cm]{../testData/Results/Lochgitter/reducedLochgitter.jpg} & \includegraphics[width=4cm]{../testData/Results/Lochgitter/reducedFFT_of_Lochgitter.jpg} \\
  \end{tabular}
  \caption{Auswertung Lochgitter}
  \label{tab:AuswertungLochgitter}
\end{table}

\subsection{Analyse eines Frequenzmusters}
Ein sich wiederholendes Muster in einem Bild ist mittels \textit{FFT} gut vom eigentlichen Bildinhalt zu unterscheiden. So kann das Muster entfernt werden und das eigentliche Bild mittels \textit{inverseFFT} ermittelt werden. Leider sind reale Bilder meist nicht genau horizontal ausgerichtet. Auch kann man nicht davon ausgehen, dass sich wiederholende Elemente in der Realität unverzerrt in einem Bild dargestellt sind. Kanten werden nur in den seltensten Fällen genau durch einen Pixel des Bildes dargestellt. All diese Umstände machen es schwer aus einem Alltagsfoto wiederkehrende Elemente herauszufiltern.

\end{document}
